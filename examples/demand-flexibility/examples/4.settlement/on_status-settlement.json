{
  "context": {
    "version": "2.0.0",
    "action": "on_status",
    "domain": "beckn.one:DEG:demand-flexibility:1.0",
    "timestamp": "2025-08-26T17:30:00+05:30",
    "message_id": "msg-on-status-settlement-001",
    "transaction_id": "txn-df-event-001",
    "bap_id": "consumer-app.example.com",
    "bap_uri": "https://consumer-app.example.com",
    "bpp_id": "greenpower-utility.example.com",
    "bpp_uri": "https://greenpower-utility.example.com",
    "ttl": "PT30S"
  },
  "message": {
    "order": {
      "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
      "@type": "beckn:Order",
      "beckn:id": "order-df-event-20250826-001",
      "beckn:orderStatus": "EVENT_COMPLETED",
      "beckn:seller": "provider-gp-df-001",
      "beckn:buyer": "buyer-dtc-001",
      "beckn:orderItems": [
        {
          "@type": "beckn:OrderItem",
          "beckn:lineId": "order-item-event-001",
          "beckn:orderedItem": "item-df-event-peak-saver-001",
          "beckn:quantity": 1,
          "beckn:orderItemAttributes": {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/DemandFlexibility/v1/context.jsonld",
            "@type": "beckn:DemandFlexibilityEvent",
            "df:eventDetails": {
              "subscriptionId": "sub-df-peak-saver-001",
              "programId": "item-df-peak-saver-001",
              "eventId": "event-20250826-001"
            },
            "df:commitmentParameters": {
              "baselineLoad": 400,
              "targetLoad": 280,
              "committedReduction": 120,
              "reductionUnit": "kW"
            },
            "df:performanceMetrics": {
              "actualAverageLoad": 288,
              "loadReductionAchieved": 112,
              "performancePercentage": 93.33,
              "totalReductionEnergy": 336,
              "energyUnit": "kWh"
            },
            "df:settlementDetails": {
              "incentiveRate": 5.00,
              "incentiveCurrency": "INR",
              "incentiveType": "per_kWh_reduced",
              "totalIncentive": 1680.00,
              "settlementStatus": "PROCESSING",
              "settlementMethod": "monthly_bill_credit",
              "expectedSettlementCycle": "2025-09"
            }
          }
        }
      ],
      "beckn:fulfillment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Fulfillment",
        "beckn:id": "fulfillment-event-001",
        "beckn:mode": "GRID-BASED",
        "beckn:status": "EVENT_COMPLETED",
        "beckn:deliveryAttributes": {
          "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/DemandFlexibility/v1/context.jsonld",
          "@type": "beckn:DemandFlexibilityEvent",
          "df:meterId": "meter://abc/98765456",
          "df:startTime": "2025-08-26T14:00:00+05:30",
          "df:endTime": "2025-08-26T17:00:00+05:30",
          "df:location": {
            "@type": "beckn:Location",
            "geo": {
              "type": "Point",
              "coordinates": [77.209010, 28.613901]
            },
            "address": {
              "streetAddress": "Gov Bus Depot, Anand Vihar",
              "addressLocality": "New Delhi",
              "addressRegion": "Delhi",
              "postalCode": "110001",
              "addressCountry": "IN"
            }
          }
        }
      },
      "beckn:orderAttributes": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/DemandFlexibility/v1/context.jsonld",
        "@type": "beckn:DemandFlexibilityEvent",
        "df:requestType": "event_participation"
      }
    }
  }
}

