{
  "context": {
    "version": "2.0.0",
    "action": "on_cancel",
    "domain": "beckn.one:solar:rooftop-installation:1.0",
    "timestamp": "2025-11-21T09:00:02Z",
    "message_id": "msg-on-cancel-solar-rooftop-001",
    "transaction_id": "txn-solar-rooftop-001",
    "bap_id": "example-bap.com",
    "bap_uri": "https://api.example-bap.com/beckn/v2",
    "bpp_id": "example-bpp.com",
    "bpp_uri": "https://api.example-bpp.com/beckn/v2",
    "ttl": "PT30S",
    "schema_context": [
      "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/SolarRooftop/v1/context.jsonld"
    ]
  },
  "message": {
    "order": {
      "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
      "@type": "beckn:Order",
      "beckn:id": "order-solar-rooftop-001",
      "beckn:orderStatus": "CANCELLED",
      "beckn:seller": "provider-solar-installer-001",
      "beckn:buyer": "buyer-homeowner-001",
      "beckn:invoice": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "schema:Invoice",
        "beckn:id": "inv-solar-rooftop-001",
        "beckn:number": "INV-2025-001",
        "beckn:issueDate": "2025-11-20",
        "beckn:dueDate": "2025-11-25",
        "beckn:payee": "provider-solar-installer-001",
        "beckn:payer": "buyer-homeowner-001",
        "beckn:totals": {
          "currency": "INR",
          "value": 750000
        },
        "schema:customer": {
          "email": "customer@example.com",
          "phone": "+91-9876543210",
          "legalName": "John Doe",
          "address": {
            "streetAddress": "123 MG Road",
            "addressLocality": "Bangalore",
            "addressRegion": "Karnataka",
            "postalCode": "560001",
            "addressCountry": "IN"
          }
        }
      },
      "beckn:orderItems": [
        {
          "@type": "beckn:OrderItem",
          "beckn:lineId": "order-item-solar-001",
          "beckn:orderedItem": "item-solar-rooftop-100kw",
          "beckn:quantity": 1,
          "beckn:acceptedOffer": {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
            "@type": "beckn:Offer",
            "beckn:id": "offer-solar-rooftop-100kw-001",
            "beckn:descriptor": {
              "@type": "beckn:Descriptor",
              "schema:name": "100kW Solar Installation Package"
            },
            "beckn:provider": "provider-solar-installer-001",
            "beckn:items": [
              "item-solar-rooftop-100kw"
            ],
            "beckn:price": {
              "currency": "INR",
              "price": 750000
            },
            "beckn:offerAttributes": {
              "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/SolarRooftop/v1/context.jsonld",
              "@type": "beckn:SolarRooftopPricing",
              "beckn:pricingModel": "fixed_price",
              "beckn:includes": [
                "site_survey",
                "system_design",
                "equipment_installation",
                "commissioning",
                "warranty",
                "maintenance_plan"
              ],
              "beckn:paymentTerms": "30%_advance_70%_on_completion",
              "beckn:subsidies": {
                "governmentSubsidy": 30000,
                "netMeteringBenefit": 15000
              }
            }
          },
          "beckn:orderItemAttributes": {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/SolarRooftop/v1/context.jsonld",
            "@type": "beckn:SolarRooftopInstallation",
            "beckn:capacity": {
              "value": 100,
              "unit": "kW"
            },
            "beckn:cancellationDetails": {
              "cancelledBy": "customer",
              "cancellationReason": "customer_changed_mind",
              "cancellationDate": "2025-11-21T09:00:00Z",
              "refundEligibility": "partial_refund",
              "refundAmount": 200000,
              "refundCurrency": "INR",
              "refundReason": "cancellation_before_site_survey"
            }
          }
        }
      ],
      "beckn:fulfillment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Fulfillment",
        "beckn:id": "fulfillment-solar-rooftop-001",
        "beckn:mode": "DIGITAL",
        "beckn:status": "CANCELLED"
      },
      "beckn:payment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Payment",
        "beckn:id": "payment-solar-rooftop-001",
        "beckn:method": "PREPAID",
        "beckn:status": "REFUND_INITIATED",
        "beckn:amount": {
          "currency": "INR",
          "value": 225000
        }
      },
      "beckn:orderAttributes": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/SolarRooftop/v1/context.jsonld",
        "@type": "beckn:SolarRooftopOrder",
        "beckn:requestType": "installation_booking",
        "beckn:customerDetails": {
          "propertyType": "residential",
          "roofType": "RCC",
          "electricityBill": 8000,
          "monthlyConsumption": 800
        },
        "beckn:cancellationSummary": {
          "orderCancelled": true,
          "cancellationTimestamp": "2025-11-21T09:00:02Z",
          "refundProcessed": false,
          "refundExpectedDate": "2025-11-28",
          "finalSettlementAmount": 25000,
          "settlementReason": "deduction_for_processing_and_site_visit"
        }
      }
    }
  }
}
