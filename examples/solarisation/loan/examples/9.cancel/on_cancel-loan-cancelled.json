{
  "context": {
    "version": "2.0.0",
    "action": "on_cancel",
    "domain": "beckn.one:financial-services:loan:1.0",
    "timestamp": "2025-11-22T09:00:02Z",
    "message_id": "msg-on-cancel-loan-001",
    "transaction_id": "txn-loan-001",
    "bap_id": "example-bap.com",
    "bap_uri": "https://api.example-bap.com/beckn/v2",
    "bpp_id": "example-bank-bpp.com",
    "bpp_uri": "https://api.example-bank-bpp.com/beckn/v2",
    "ttl": "PT30S",
    "schema_context": [
      "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/FinancialServices/v1/context.jsonld"
    ]
  },
  "message": {
    "order": {
      "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
      "@type": "beckn:Order",
      "beckn:id": "order-loan-001",
      "beckn:orderStatus": "CANCELLED",
      "beckn:seller": "provider-green-bank-001",
      "beckn:buyer": "buyer-customer-001",
      "beckn:invoice": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "schema:Invoice",
        "schema:customer": {
          "email": "john.doe@example.com",
          "phone": "+91-9876543210",
          "legalName": "John Doe",
          "address": {
            "streetAddress": "123 MG Road",
            "addressLocality": "Bangalore",
            "addressRegion": "Karnataka",
            "postalCode": "560001",
            "addressCountry": "IN"
          }
        }
      },
      "beckn:orderItems": [
        {
          "@type": "beckn:OrderItem",
          "beckn:lineId": "order-item-loan-001",
          "beckn:orderedItem": "item-green-loan-standard",
          "beckn:acceptedOffer": {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
            "@type": "beckn:Offer",
            "beckn:id": "offer-green-loan-standard-10yr",
            "beckn:descriptor": {
              "@type": "beckn:Descriptor",
              "schema:name": "Green Energy Loan Standard - 10 Year Plan"
            },
            "beckn:provider": "provider-green-bank-001",
            "beckn:items": [
              "item-green-loan-standard"
            ]
          },
          "beckn:orderItemAttributes": {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/FinancialServices/v1/context.jsonld",
            "@type": "beckn:LoanApplication",
            "beckn:requestedLoanAmount": {
              "value": 705000,
              "currency": "INR"
            },
            "beckn:loanAccountNumber": "LOAN-2025-001234",
            "beckn:applicationStatus": "cancelled"
          }
        }
      ],
      "beckn:fulfillment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Fulfillment",
        "beckn:id": "fulfillment-loan-001",
        "beckn:status": "CANCELLED"
      },
      "beckn:payment": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Payment",
        "beckn:id": "payment-loan-processing-fee-001",
        "beckn:method": "PREPAID",
        "beckn:status": "REFUNDED",
        "beckn:amount": {
          "currency": "INR",
          "value": 10575
        },
        "beckn:descriptor": {
          "@type": "beckn:Descriptor",
          "schema:description": "Loan processing fee - Refunded"
        },
        "beckn:refund": {
          "refundAmount": {
            "currency": "INR",
            "value": 10575
          },
          "refundReason": "Loan application cancelled by customer",
          "refundStatus": "PROCESSED",
          "refundDate": "2025-11-22T10:00:00Z",
          "refundTransactionId": "refund-txn-loan-001"
        }
      },
      "beckn:orderAttributes": {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/FinancialServices/v1/context.jsonld",
        "@type": "beckn:LoanOrder",
        "beckn:applicationType": "new_loan",
        "beckn:cancellationDetails": {
          "cancelledBy": "customer",
          "cancellationTimestamp": "2025-11-22T09:00:00Z",
          "cancellationReason": "customer_changed_mind",
          "cancellationReasonDescription": "Customer decided not to proceed with the loan",
          "refundAmount": {
            "currency": "INR",
            "value": 10575
          },
          "refundProcessingTime": "PT24H"
        }
      },
      "beckn:cancellation": {
        "cancelled_by": "customer",
        "time": "2025-11-22T09:00:00Z",
        "reason": {
          "id": "customer_changed_mind",
          "description": "Customer decided not to proceed with the loan"
        }
      }
    }
  }
}

